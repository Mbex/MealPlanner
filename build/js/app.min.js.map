{"version":3,"sources":["app.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","httpGet","theUrl","Promise","resolve","reject","page","XMLHttpRequest","addEventListener","evt","JSON","parse","this","responseText","error","open","send","httpDelete","populateMealDBList","LOCAL_HOST","concat","then","all_meals","dsp_meals","document","getElementById","forEach","meal","del_addr","replace","_id","entry_parent","createElement","entry_major","entry_minor","entry_del_button","setAttribute","innerHTML","name","stringify","ingredients","confirm","parentNode","removeChild","appendChild","console","log","FNAME","URL","substr","lastIndexOf"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GAMvd,QAASK,GAAQC,GACb,MAAO,IAAIC,SAAS,SAASC,EAASC,GAClC,GAAIC,GAAO,GAAIC,eACfD,GAAKE,iBAAiB,OAAQ,SAASC,GACnCL,EAAQM,KAAKC,MAAMC,KAAKC,iBAE5BP,EAAKE,iBAAiB,QAAS,SAASM,GACpCT,EAAOS,KAEXR,EAAKS,KAAK,MAAOb,GACjBI,EAAKU,SAKb,QAASC,GAAWf,GACZI,KAAO,GAAIC,gBACXD,KAAKS,KAAK,SAAUb,GACpBI,KAAKU,OAIb,QAASE,KAGPjB,EAAQkB,EAAWC,OAAO,WAAWC,KAAM,SAAUC,GAEnD,GAAIC,GAAYC,SAASC,eAAe,eACxCH,GAAUI,QAAS,SAASC,GAE1B,GAAIC,GAAWT,EAAWC,OAAO,qBAAqBS,QAAQ,UAAWF,EAAKG,KAC1EC,EAAeP,SAASQ,cAAc,OACtCC,EAAcT,SAASQ,cAAc,KACrCE,EAAcV,SAASQ,cAAc,KACrCG,EAAmBX,SAASQ,cAAc,SAG9CD,GAAaK,aAAa,KAAMT,EAAKG,KACrCG,EAAYI,UAAYV,EAAKW,KAC7BJ,EAAYG,UAAY3B,KAAK6B,UAAUZ,EAAKa,aAC5CL,EAAiBE,UAAY,SAC7BF,EAAiB3B,iBAAiB,QAAS,SAASC,GAC9CgC,QAAQ,4DACVxB,EAAWW,GACXG,EAAaW,WAAWC,YAAYZ,MAsBxCA,EAAaa,YAAYX,GACzBF,EAAaa,YAAYV,GACzBH,EAAaa,YAAYT,GACzBZ,EAAUqB,YAAYb,OA1E5Bc,QAAQC,IAAI,aAEZ,IAAI3B,GAAa,yBACb4B,EAAQvB,SAASwB,IAAIC,OAAOzB,SAASwB,IAAIE,YAAY,KAAK,EAqFjD,qBAATH,GACJ7B,cAGW","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nconsole.log(\"Js loading\");\n\nvar LOCAL_HOST = 'http://127.0.0.1:5000/';\nvar FNAME = document.URL.substr(document.URL.lastIndexOf('/')+1);\n\nfunction httpGet(theUrl) {\n    return new Promise( function(resolve, reject) {\n        var page = new XMLHttpRequest();\n        page.addEventListener('load', function(evt){\n            resolve(JSON.parse(this.responseText));\n        });\n        page.addEventListener('error', function(error){\n            reject(error);\n        });\n        page.open(\"GET\", theUrl);\n        page.send();\n    });\n}\n\n\nfunction httpDelete(theUrl) {\n        page = new XMLHttpRequest();\n        page.open(\"DELETE\", theUrl);\n        page.send();\n}\n\n\nfunction populateMealDBList() {\n\n  // populate database list of meals with functionality\n  httpGet(LOCAL_HOST.concat('meals/')).then( function (all_meals) {\n\n    var dsp_meals = document.getElementById('db-meal-list');\n    all_meals.forEach( function(meal) {\n\n      var del_addr = LOCAL_HOST.concat('meals/_id/<value>').replace('<value>', meal._id);\n      var entry_parent = document.createElement('div');\n      var entry_major = document.createElement(\"p\");\n      var entry_minor = document.createElement(\"p\");\n      var entry_del_button = document.createElement('button');\n      var edit_open = 0;\n\n      entry_parent.setAttribute('id', meal._id);\n      entry_major.innerHTML = meal.name;\n      entry_minor.innerHTML = JSON.stringify(meal.ingredients);\n      entry_del_button.innerHTML = 'Delete';\n      entry_del_button.addEventListener('click', function(evt) {\n        if (confirm(\"Are you sure you want to permenantly remove this meal?\")) {\n          httpDelete(del_addr);\n          entry_parent.parentNode.removeChild(entry_parent);\n        }\n      });\n\n      // THIS IS THE EDIT\n      // entry_parent.addEventListener('click', function(evt) {\n      //\n      //   if (edit_open) {\n      //     var mefo = document.getElementById('mefo');\n      //     mefo.parentNode.removeChild(mefo);\n      //     edit_open = 0;\n      //   } else {\n      //     var mefo = document.createElement('object');\n      //     mefo.setAttribute('id', 'mefo');\n      //     mefo.setAttribute('type', 'text/html');\n      //     mefo.setAttribute('data', 'meal_entry_form_only.html');\n      //     entry_parent.appendChild(mefo);\n      //     edit_open = 1;\n      //   }\n      //\n      // });\n\n      entry_parent.appendChild(entry_major);\n      entry_parent.appendChild(entry_minor);\n      entry_parent.appendChild(entry_del_button);\n      dsp_meals.appendChild(entry_parent);\n\n    });\n  });\n};\n\n\n\n\n\n\n\n\n// main\nif (FNAME == 'meal_search.html'){\npopulateMealDBList()\n}\n\n},{}]},{},[1]);\n"]}