!function e(t,n,r){function a(o,d){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!d&&c)return c(o,!0);if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return a(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){function r(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.addEventListener("load",function(e){t(JSON.parse(this.responseText))}),r.addEventListener("error",function(e){n(e)}),r.open("GET",e),r.send()})}function a(e,t){var n=new XMLHttpRequest;n.open("PUT",e),n.send(JSON.stringify(t))}function i(e){var t=new XMLHttpRequest;t.open("DELETE",e),t.send()}function o(e){var t=document.createElement("form");t.setAttribute("action","http://localhost:5000/meals/"),t.setAttribute("class","meal-edit-form");var n=document.createElement("label"),r=document.createElement("input");n.setAttribute("class","field"),n.setAttribute("for","name"),n.innerText="name",r.setAttribute("type","text"),r.setAttribute("name","name");try{r.value=e.name}catch(e){}t.appendChild(n),t.appendChild(r);var n=document.createElement("label");n.setAttribute("for","meal type"),n.innerHTML="Meal Type",t.appendChild(n);var a=document.createElement("select");a.setAttribute("name","meal type"),a.setAttribute("value","Meal");var i=["dinner","breakfast","lunch","snack"];return i.forEach(function(n){var r=document.createElement("option");r.setAttribute("value",n),r.innerHTML=n;try{n==e.meal_type&&r.setAttribute("selected","selected")}catch(e){}a.appendChild(r),t.appendChild(a)}),options=["ingredients","method"],options.forEach(function(n){var r=(document.createElement("option"),document.createElement("label"));r.setAttribute("for",n),r.innerHTML=n;var a=document.createElement("textarea");a.setAttribute("name",n),a.setAttribute("rows",10),a.setAttribute("cols",30);try{for(key in e[n])a.value+=JSON.stringify(e[n][key]).concat(" ",JSON.stringify(key),"\r\n").replace(/[",]/g,"")}catch(e){}t.appendChild(r),t.appendChild(a)}),t}function d(){r(m.concat("meals/")).then(function(e){if(e.length<1)console.log("no meals in database!");else{var t=document.getElementById("db-meal-list");e.forEach(function(e){var n=m.concat("meals/_id/<value>/").replace("<value>",e._id),r=document.createElement("div"),d=(document.createElement("p"),document.createElement("p"),document.createElement("button")),c=o(e),u=document.createElement("button");u.setAttribute("type","button"),u.innerText="Update",u.addEventListener("click",function(t){var i={};i._id=e._id;var o=r.childNodes[0].childNodes,d="",c="";o.forEach(function(e){"LABEL"==e.nodeName?d=e.getAttribute("FOR"):"INPUT"==e.nodeName|"SELECT"==e.nodeName|"TEXTAREA"==e.nodeName&&(c=e.value),i[d]=c}),a(n,i)}),r.setAttribute("id",e._id),d.innerHTML="Delete",d.addEventListener("click",function(e){confirm("Are you sure you want to permenantly remove this meal?")&&(i(n),r.parentNode.removeChild(r))}),c.appendChild(u),r.appendChild(c),r.appendChild(d),t.appendChild(r)})}})}function c(){var e=o(),t=document.getElementById("entries"),n=document.createElement("input");n.setAttribute("type","submit"),n.setAttribute("value","Submit"),e.setAttribute("method","POST"),e.appendChild(n),t.appendChild(e)}function u(e){return new Promise(function(t,n){r(m.concat("meals/random?n=<n>").replace("<n>",e)).then(function(n){var r=document.createElement("div");r.setAttribute("id","results"),n[e.concat(" random meal(s)")].forEach(function(e){var t=document.createElement("div"),n=document.createElement("h4");n.innerText=e.name,t.appendChild(n),ingredient_div=document.createElement("div"),kv_pair=e.ingredients;for(key in kv_pair){var a=document.createElement("p");a.innerText=key.concat(", ").concat(kv_pair[key]),ingredient_div.appendChild(a),t.appendChild(ingredient_div)}var i=document.createElement("button");i.setAttribute("type","button"),i.innerText="remove",t.append(i),i.addEventListener("click",function(e){this.parentNode.remove()}),r.appendChild(t)});var a=document.createElement("button");a.setAttribute("type","button"),a.innerText="add",a.addEventListener("click",function(e){this.remove(a),u("1").then(function(e){var t=document.getElementById("results_parent");t.appendChild(e)})}),r.appendChild(a),t(r)})})}function l(){var e=document.createElement("form"),t=document.createElement("label"),n=document.createElement("input"),r=document.createElement("button"),a=document.getElementById("generator");n.setAttribute("type","text"),n.setAttribute("name","n"),t.setAttribute("class","field"),t.setAttribute("for","name"),t.innerText="Number of Meals",t.appendChild(n),e.appendChild(t),e.setAttribute("class","mealplan-form"),r.setAttribute("type","button"),r.innerText="Go!",r.addEventListener("click",function(e){try{document.getElementById("results_parent").innerHTML=""}catch(e){console.log(e)}u(n.value).then(function(e){var t=document.getElementById("results_parent");t.appendChild(e)})}),e.appendChild(r),a.append(e)}var m="http://localhost:5000/",s=document.URL.substr(document.URL.lastIndexOf("/")+1);"meal_search.html"==s?d():"meal_entry_form.html"==s?c():"meal_plan.html"==s&&l()},{}]},{},[1]);
//# sourceMappingURL=app.min.js.map
