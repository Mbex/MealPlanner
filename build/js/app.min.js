!function e(t,n,a){function r(o,l){if(!n[o]){if(!t[o]){var d="function"==typeof require&&require;if(!l&&d)return d(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return r(n?n:e)},u,u.exports,e,t,n,a)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(e,t,n){function a(e){return new Promise(function(t,n){var a=new XMLHttpRequest;a.addEventListener("load",function(e){t(JSON.parse(this.responseText))}),a.addEventListener("error",function(e){n(e)}),a.open("GET",e),a.send()})}function r(e,t){var n=new XMLHttpRequest;n.open("PUT",e),n.send(JSON.stringify(t))}function o(e,t){var n=new XMLHttpRequest;n.open("POST",e),n.send(JSON.stringify(t))}function l(e){var t=new XMLHttpRequest;t.open("DELETE",e),t.send()}function d(e){var t=document.createElement("form");t.setAttribute("action","http://localhost:5000/meals/"),t.setAttribute("class","meal-edit-form");var n=document.createElement("label"),a=document.createElement("input");n.setAttribute("class","field"),n.setAttribute("for","name"),n.innerText="name",a.setAttribute("type","text"),a.setAttribute("name","name");try{a.value=e.name}catch(e){}t.appendChild(n),t.appendChild(a);var n=document.createElement("label");n.setAttribute("for","meal type"),n.innerHTML="Meal Type",t.appendChild(n);var r=document.createElement("select");r.setAttribute("name","meal type"),r.setAttribute("value","Meal");var i=["dinner","breakfast","lunch","snack"];return i.forEach(function(n){var a=document.createElement("option");a.setAttribute("value",n),a.innerHTML=n;try{n==e.meal_type&&a.setAttribute("selected","selected")}catch(e){}r.appendChild(a),t.appendChild(r)}),options=["ingredients","method"],options.forEach(function(n){var a=(document.createElement("option"),document.createElement("label"));a.setAttribute("for",n),a.innerHTML=n;var r=document.createElement("textarea");r.setAttribute("name",n),r.setAttribute("rows",10),r.setAttribute("cols",30);try{for(key in e[n])r.value+=JSON.stringify(e[n][key]).concat(" ",JSON.stringify(key),"\r\n").replace(/[",]/g,"")}catch(e){}t.appendChild(a),t.appendChild(r)}),t}function c(){a(v.concat("meals/")).then(function(e){if(console.log(e),e.length<1)console.log("no meals in database!");else{var t=document.getElementById("db-meal-list");e.forEach(function(e){var n=v.concat("meals/_id/<value>/").replace("<value>",e._id),a=document.createElement("div"),i=(document.createElement("p"),document.createElement("p"),document.createElement("button")),o=d(e),c=document.createElement("button");c.setAttribute("type","button"),c.innerText="Update",c.addEventListener("click",function(t){var i={};i._id=e._id;var o=a.childNodes[0].childNodes,l="",d="";o.forEach(function(e){"LABEL"==e.nodeName?l=e.getAttribute("FOR"):"INPUT"==e.nodeName|"SELECT"==e.nodeName|"TEXTAREA"==e.nodeName&&(d=e.value),i[l]=d}),r(n,i)}),a.setAttribute("id",e._id),i.innerHTML="Delete",i.addEventListener("click",function(e){confirm("Are you sure you want to permenantly remove this meal?")&&(l(n),a.parentNode.removeChild(a))}),o.appendChild(c),a.appendChild(o),a.appendChild(i),t.appendChild(a)})}})}function u(){var e=d(),t=document.getElementById("entries"),n=document.createElement("input");n.setAttribute("type","submit"),n.setAttribute("value","Submit"),e.setAttribute("method","POST"),e.appendChild(n),t.appendChild(e)}function m(e,t){var n=document.getElementById("results");if(null==n){var n=document.createElement("div");n.setAttribute("id","results")}return new Promise(function(r,i){a(v.concat("meals/random?n=<n>").replace("<n>",t)).then(function(t){t.result.forEach(function(e){var t=document.createElement("div"),a=document.createElement("h4"),r=document.createElement("div");t.setAttribute("class","result_div"),t.setAttribute("id",e._id),a.innerText=e.name,t.appendChild(a),kv_pair=e.ingredients;for(key in kv_pair){var i=document.createElement("p");i.innerText=key.concat(", ").concat(kv_pair[key]),r.appendChild(i),t.appendChild(r)}var o=document.createElement("button");o.setAttribute("type","button"),o.innerText="remove",t.append(o),o.addEventListener("click",function(e){this.parentNode.remove()}),n.appendChild(t)});var a=document.createElement("button");a.setAttribute("type","button"),a.setAttribute("id","save_button"),a.innerText="save",a.addEventListener("click",function(t){for(var n=[],a=document.getElementsByClassName("result_div"),r=0,i=a.length;r<i;r++)n.push(a[r].getAttribute("id"));console.log(e),o("http://localhost:5000/mealplan/",{name:e,ids:n})});var i=document.createElement("button");i.setAttribute("type","button"),i.innerText="add",i.addEventListener("click",function(e){this.remove(),document.getElementById("save_button").remove(),m("","1").then(function(e){var t=document.getElementById("results_parent");t.appendChild(e)})}),n.appendChild(i),n.appendChild(a),r(n)})})}function s(){var e=document.createElement("form"),t=document.createElement("label"),n=document.createElement("input"),a=document.createElement("label"),r=document.createElement("input"),i=document.createElement("button"),o=document.getElementById("generator");n.setAttribute("type","text"),n.setAttribute("name","name"),t.setAttribute("class","field"),t.setAttribute("for","name"),t.innerText="Name",r.setAttribute("type","text"),r.setAttribute("name","n"),a.setAttribute("class","field"),a.setAttribute("for","n"),a.innerText="Number of Meals",t.appendChild(n),a.appendChild(r),e.appendChild(t),e.appendChild(a),e.setAttribute("class","mealplan-form"),i.setAttribute("type","button"),i.innerText="Go!",i.addEventListener("click",function(e){try{document.getElementById("results_parent").innerHTML=""}catch(e){console.log(e)}console.log(n.value,r.value),m(n.value,r.value).then(function(e){var t=document.getElementById("results_parent");t.appendChild(e)})}),e.appendChild(i),o.append(e)}function p(){a(v.concat("mealplan/")).then(function(e){if(e.length<1)console.log("no meals in database!");else{var t=document.getElementById("db-mealplan-list");e.forEach(function(e){var n=v.concat("mealplan/_id/<value>/").replace("<value>",e._id),r=document.createElement("div"),o=document.createElement("h2"),d=document.createElement("button"),c=document.createElement("button"),u=e.name;c.innerText="Shopping List",o.innerText=u,r.appendChild(o),e.meal_ids.forEach(function(t){var n=v.concat("meals/_id/<value>/").replace("<value>",t),i=document.createElement("p");r.setAttribute("id",e._id),r.appendChild(i),a(n).then(function(e){i.innerText=e._id[0].name})}),d.innerHTML="Delete",d.addEventListener("click",function(e){confirm("Are you sure you want to permenantly remove this mealplan?")&&(l(n),r.parentNode.removeChild(r))});var m=document.createElement("div");m.setAttribute("id","list_div_".concat(e._id)),m.innerHTML="<h3>Shopping List</h3>",a(v.concat("shoppinglist/<mealplan_id>").replace("<mealplan_id>",e._id)).then(function(e){for(key in e){var t=document.createElement("h4");t.innerText=key,m.appendChild(t),console.log(key);for(i in e[key])if(e[key][i]>0){var n=document.createElement("p");n.innerText=e[key][i],m.append(n),console.log(n.innerText)}else if(e[key][i].constructor===Object)for(k in e[key][i]){var n=document.createElement("p");n.innerText=e[key][i][k].toString().concat(k),console.log(n.innerText),m.append(n)}}}),r.appendChild(m),r.appendChild(c),r.appendChild(d),t.appendChild(r)})}})}var v="http://localhost:5000/",f=document.URL.substr(document.URL.lastIndexOf("/")+1);"new_meal.html"==f?u():"meal_database.html"==f?c():"new_mealplan.html"==f?s():"mealplan_database.html"==f&&p()},{}]},{},[1]);
//# sourceMappingURL=app.min.js.map
